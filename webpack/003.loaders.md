---
sidebar_position: 4
---

# Loaders

Secara alami, **Webpack hanya memahami file JavaScript dan JSON**. Lalu bagaimana jika kita ingin mengimpor file **CSS**, **SasS**, atau bahkan **gambar**, langsung ke dalam JavaScript kita? Di sinilah **_Loaders_** berperan.

**Loaders** adalah "transformer" yang memberi tahu Webpack cara memproses file selain JavaScript.

## Menggunakan `css-loader` dan `style-loader`

Mari kita lanjutkan proyek jam digital kita. Kita ingin mengimpor file `style.css` langsung ke dalam `index.js`.

**Langkah 1: Install Loaders**

```bash
npm install --save-dev css-loader style-loader
```

- `css-loader`: Bertugas membaca isi file CSS.
- `style-loader`: Bertugas mengambil CSS yang sudah dibaca dan menyuntikkannya ke dalam DOM melalui tag `<style>`.

**Langkah 2: Konfigurasi Webpack**

Buat file baru di **root** proyek Anda bernama `webpack.config.js`. File ini adalah pusat kendali Webpack.

```javascript title="webpack.config.js"
const path = require("path");

module.exports = {
  entry: "./src/index.js",
  output: {
    path: path.resolve(__dirname, "output"),
    filename: "bundle.js",
  },
  module: {
    rules: [
      {
        test: /\.css$/i,
        use: ["style-loader", "css-loader"],
      },
    ],
  },
};
```

Penjelasan:

- `module.rules`: Tempat kita mendefinisikan aturan untuk _loaders_.
- `test: /\.css$/i`: Aturan ini berlaku untuk semua file yang berakhiran `.css`.
- `use: ['style-loader', 'css-loader']`: Gunakan kedua _loader_ ini.

:::info[**Penting**]
Webpack membaca _loader_ dalam array `use` dari **kanan ke kiri**. Jadi, `css-loader` akan berjalan lebih dulu, diikuti oleh `style-loader`.
:::

**Langkah 3: Import CSS di JavaScript**
Ubah file `src/index.js` untuk mengimpor file CSS.

```javascript title="src/index.js"
import $ from "jquery";
import moment from "moment";
import "./style/style.css"; // Tambahkan baris ini

// ... sisa kode sama ...
```

**Langkah 4: Hapus Link CSS di HTML**
Karena CSS sekarang di-handle oleh JavaScript, kita bisa menghapus tag `<link>` dari `src/template.html`.

```html {2}
<!-- Hapus baris ini dari <head> -->
<link rel="stylesheet" href="./style/style.css" />
```

Sekarang, jika Anda menjalankan `npm run build` lagi, CSS akan menjadi bagian dari _bundle_ JavaScript Anda dan akan diterapkan secara otomatis saat file JavaScript dijalankan di browser.

## Menggunakan Babel untuk JavaScript Modern

Babel adalah _transpiler_ yang mengubah kode JavaScript modern (ES6+) menjadi versi yang lebih lama (ES5) agar kompatibel dengan browser-browser lama.

**Langkah 1: Install Dependencies**

```bash
npm install -D babel-loader @babel/core @babel/preset-env
```

**Langkah 2: Konfigurasi Webpack**
Tambahkan aturan baru di `webpack.config.js` untuk file JavaScript.

```javascript title="webpack.config.js"
module: {
  rules: [
    {
      test: /\.css$/i,
      use: ['style-loader', 'css-loader'],
    },
    // highlight-start
    {
      test: /\.m?js$/,
      exclude: /node_modules/, // Jangan transpile kode dari library
      use: {
        loader: 'babel-loader',
        options: {
          presets: ['@babel/preset-env'],
        },
      },
    },
    // highlight-end
  ],
},
```

Sekarang, saat Anda build, Babel akan otomatis mengubah sintaks modern seperti _arrow function_ (`=>`) menjadi _function_ biasa, memastikan kode Anda berjalan di lebih banyak browser.

## Menggunakan SASS/SCSS

SASS/SCSS adalah _preprocessor_ CSS yang menambahkan fitur-fitur canggih seperti variabel, _nesting_, dan _mixin_.

**Langkah 1: Install Dependencies**

```bash
npm install --save-dev sass-loader sass
```

**Langkah 2: Konfigurasi Webpack**
Tambahkan aturan baru untuk file `.scss` atau `.sass`.

```javascript title="webpack.config.js"
module: {
  rules: [
    // ... aturan untuk css dan js
    {
      test: /\.s[ac]ss$/i,
      use: [
        'style-loader', // 3. Inject styles into DOM
        'css-loader',   // 2. Translates CSS into CommonJS
        'sass-loader',  // 1. Compiles Sass to CSS
      ],
    },
  ],
},
```

:::info[FYI]
Ingat, urutannya dari kanan ke kiri: `sass-loader` mengubah SCSS menjadi CSS, `css-loader` membaca CSS tersebut, dan `style-loader` menyuntikkannya ke DOM.
:::
