---
sidebar_position: 9
---

# Mengelola Multi-Page Applications (MPA) dengan Vite

Vite secara default mendukung Single Page Applications (SPA), tetapi dapat dengan mudah dikonfigurasi untuk menangani Multi-Page Applications (MPA) dengan beberapa file HTML sebagai entry point.

## Analogi Multi-Page Applications (MPA)

Bayangkan sebuah buku:

- **SPA** = Gulungan perkamen panjang dengan semua informasi di satu tempat
- **MPA** = Buku dengan bab/halaman terpisah yang perlu dibalik

Dalam MPA, setiap file HTML (`about.html`, `contact.html`, dll.) adalah "halaman" terpisah dengan JavaScript dan CSS sendiri.

## Konfigurasi untuk Multi-Page Applications

### Struktur Proyek MPA

```
proyek-vite-mpa/
├── index.html
├── about.html
├── contact.html
├── vite.config.ts
├── package.json
└── src/
    ├── main.tsx        // Entry point untuk index.html
    ├── about.ts        // Entry point untuk about.html
    ├── contact.ts      // Entry point untuk contact.html
    ├── App.tsx         // Komponen React untuk halaman utama
    ├── components/
    └── assets/
```

### Langkah 1: Buat File HTML Tambahan

**`about.html`:**

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>About Us</title>
  </head>
  <body>
    <h1>About Us Page</h1>
    <p>This is the about page content.</p>
    <a href="/">Go to Home</a> | <a href="/contact.html">Go to Contact</a>
    <div id="app-about"></div>
    <script type="module" src="/src/about.ts"></script>
  </body>
</html>
```

**`contact.html`:**

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Contact Us</title>
  </head>
  <body>
    <h1>Contact Us Page</h1>
    <p>You can reach us here.</p>
    <a href="/">Go to Home</a> | <a href="/about.html">Go to About</a>
    <div id="app-contact"></div>
    <script type="module" src="/src/contact.ts"></script>
  </body>
</html>
```

### Langkah 2: Buat Entry Point JavaScript/TypeScript

**`src/about.ts`:**

```typescript
console.log("Hello from About Page!");

// Contoh: Menambahkan konten dinamis
const appElement = document.getElementById("app-about");
if (appElement) {
  appElement.innerHTML = "<p>JavaScript for About Page loaded!</p>";
}
```

**`src/contact.ts`:**

```typescript
console.log("Hello from Contact Page!");

// Contoh: Menambahkan konten dinamis
const appElement = document.getElementById("app-contact");
if (appElement) {
  appElement.innerHTML = "<p>JavaScript for Contact Page loaded!</p>";
}
```

### Langkah 3: Sesuaikan `index.html`

Tambahkan link navigasi ke `index.html`:

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite + React App</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>

    <!-- Navigasi ke halaman lain -->
    <nav style="margin-top: 20px;">
      <a href="/about.html">Go to About Page</a> |
      <a href="/contact.html">Go to Contact Page</a>
    </nav>
  </body>
</html>
```

### Langkah 4: Konfigurasi `vite.config.ts` untuk MPA

```typescript
import { defineConfig } from "vite";
import react from "@vitejs/plugin-react";
import { resolve } from "path";

export default defineConfig({
  plugins: [react()],
  server: {
    port: 3000,
  },
  build: {
    outDir: "dist",
    rollupOptions: {
      input: {
        main: resolve(__dirname, "index.html"),
        about: resolve(__dirname, "about.html"),
        contact: resolve(__dirname, "contact.html"),
        // Tambahkan entry point lain di sini
      },
    },
  },
  resolve: {
    alias: {
      "@": resolve(__dirname, "./src"),
    },
  },
});
```

**Penjelasan Konfigurasi:**

- `rollupOptions.input` = Mendefinisikan semua entry point HTML
- `resolve(__dirname, 'filename')` = Memastikan path absolut yang benar
- Setiap entry point akan diproses sebagai halaman terpisah

## Menguji Multi-Page Application

### Development Mode

```bash
npm run dev
```

Buka `http://localhost:3000` dan navigasi antara halaman.

### Production Build

```bash
npm run build
```

Vite akan menghasilkan:

- `dist/index.html`
- `dist/about.html`
- `dist/contact.html`
- `dist/assets/` dengan bundle teroptimasi untuk setiap halaman

### Preview Production

```bash
npm run preview
```

## Keuntungan MPA dengan Vite

1. **Load Time Lebih Cepat** - Setiap halaman hanya memuat resources yang diperlukan
2. **SEO yang Lebih Baik** - Halaman terpisah lebih mudah di-crawl
3. **Isolasi yang Lebih Baik** - Error di satu halaman tidak mempengaruhi halaman lain
4. **Progressive Enhancement** - Dapat bekerja tanpa JavaScript

## Perbedaan SPA vs. MPA

| Aspect           | SPA                 | MPA                                       |
| ---------------- | ------------------- | ----------------------------------------- |
| **File HTML**    | Satu (`index.html`) | Banyak (`index.html`, `about.html`, dll.) |
| **Navigasi**     | Client-side routing | Full page reload                          |
| **JavaScript**   | Satu bundle besar   | Multiple bundle kecil                     |
| **SEO**          | Membutuhkan SSR     | Native SEO friendly                       |
| **Kompleksitas** | Tinggi di frontend  | Terdistribusi                             |

## Contoh Lanjutan: MPA dengan React di Beberapa Halaman

**`src/about-react.tsx`:**

```typescript
import React from "react";
import ReactDOM from "react-dom/client";

function AboutApp() {
  return (
    <div>
      <h1>About Page dengan React</h1>
      <p>Halaman about yang menggunakan React</p>
    </div>
  );
}

ReactDOM.createRoot(document.getElementById("app-about")!).render(
  <React.StrictMode>
    <AboutApp />
  </React.StrictMode>
);
```

**`about.html` (dengan React):**

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>About Us</title>
  </head>
  <body>
    <div id="app-about"></div>
    <script type="module" src="/src/about-react.tsx"></script>

    <nav>
      <a href="/">Home</a> |
      <a href="/contact.html">Contact</a>
    </nav>
  </body>
</html>
```

## Tips untuk MPA dengan Vite

1. **Shared Dependencies** - Gunakan code splitting untuk library yang dipakai di multiple pages
2. **Common CSS** - Impor CSS global di setiap entry point
3. **Development Experience** - Vite HMR tetap bekerja untuk setiap halaman
4. **Asset Handling** - Aset di `src/assets/` tetap dioptimalkan
5. **Environment Variables** - Tetap tersedia di semua halaman

## Ringkasan

Dengan Vite, Anda dapat:

- Mengkonfigurasi multiple HTML entry points
- Setiap halaman memiliki JavaScript/CSS sendiri
- Build teroptimasi dengan code splitting otomatis
- Development experience yang tetap excellent dengan HMR

MPA dengan Vite cocok untuk:

- Website statis dengan beberapa halaman
- Proyek yang membutuhkan SEO baik tanpa SSR
- Aplikasi dengan section yang sangat berbeda
- Migrasi progressive dari website tradisional ke modern stack
