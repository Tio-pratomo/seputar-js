---
sidebar_position: 3
---

# Advanced Routing & Modular Configuration

Sekarang, mesin Docusaurus Anda sudah cepat (Faster/Rspack) dan menggunakan standar modern (ES6).

Masalah umum pemula adalah menumpuk semua konfigurasi di dalam satu file raksasa `docusaurus.config.js`. Saat menu navigasi bertambah dan footer makin kompleks, file tersebut menjadi sulit dibaca ("Spaghetti Code").

Di sesi ini, kita akan melakukan **Refactoring** untuk memecah konfigurasi UI (Navbar & Footer) ke modul terpisah, serta memahami bagaimana Docusaurus menangani Routing (URL).

---

## Materi: Pengetahuan & Konsep

### 1. Routing Logic: Docs vs Pages vs Blog

Docusaurus memiliki 3 sistem routing (URL) yang berjalan bersamaan. Pahami ini agar Anda tahu di mana harus menaruh file.

| Tipe Konten | Lokasi File   | Pola URL        | Karakteristik                                                                       |
| :---------- | :------------ | :-------------- | :---------------------------------------------------------------------------------- |
| **Docs**    | `/docs/`      | `/docs/intro`   | Punya Sidebar, Next/Prev button, Versioning. Cocok untuk tutorial berurut.          |
| **Pages**   | `/src/pages/` | `/about`        | Halaman React mandiri (tanpa sidebar). Cocok untuk Landing Page, About Us, Contact. |
| **Blog**    | `/blog/`      | `/blog/2025/..` | Urut berdasarkan tanggal, ada tags dan authors.                                     |

### 2. Modular Configuration Strategy

Dalam Software Engineering, kita mengenal prinsip **Separation of Concerns**.
Kita akan memisahkan logika data navigasi (Navbar/Footer) dari logika konfigurasi sistem (`docusaurus.config.js`).

---

## Praktik: Refactoring & Routing

### Langkah 1: Membuat Direktori Config

Kita buat folder khusus untuk menyimpan kepingan konfigurasi UI kita.

1.  Buat folder baru di dalam `src`: `src/config`.
2.  Struktur folder Anda sekarang harusnya seperti ini:

    <sl-tree class="tree-with-icons">
      <sl-tree-item expanded>
        <sl-icon name="folder"></sl-icon>
        <span>my-docs/</span>
        <sl-tree-item expanded>
          <sl-icon name="folder"> </sl-icon>
          <span>src/</span>
          <sl-tree-item>
            <sl-icon name="folder"></sl-icon>
            <span>components/</span>
          </sl-tree-item>
          <sl-tree-item>
            <sl-icon name="folder"></sl-icon>
            <span>config/ ⟶ folder baru </span>
          </sl-tree-item>
          <sl-tree-item>
            <sl-icon name="folder"></sl-icon>
            <span>css/</span>
          </sl-tree-item>
          <sl-tree-item>
            <sl-icon name="folder"></sl-icon>
            <span>pages/</span>
          </sl-tree-item>
        </sl-tree-item>
        <sl-tree-item>
          <sl-icon name="filetype-js"></sl-icon>
          <span>docusaurus.config.js</span>
        </sl-tree-item>
        <sl-tree-item>.......</sl-tree-item>
      </sl-tree-item>
    </sl-tree>

### Langkah 2: Memisahkan Navbar

Buat file baru `src/config/navbar.js`. Kita akan memindahkan objek navbar dari config utama ke sini.

```javascript title="src/config/navbar.js"
/** @type {import('@docusaurus/preset-classic').ThemeConfig['navbar']} */
const navbar = {
  title: "My Docs",
  logo: {
    alt: "My Site Logo",
    src: "img/logo.svg",
  },
  items: [
    {
      type: "docSidebar",
      sidebarId: "tutorialSidebar",
      position: "left",
      label: "Tutorial",
    },
    // Contoh routing ke Page (kita buat nanti)
    {
      to: "/about",
      label: "About",
      position: "left",
    },
    {
      to: "/blog",
      label: "Blog",
      position: "left",
    },
    {
      href: "https://github.com/facebook/docusaurus",
      label: "GitHub",
      position: "right",
    },
  ],
};

export default navbar;
```

### Langkah 3: Memisahkan Footer

Buat file baru `src/config/footer.js`.

```javascript title="src/config/footer.js"
/** @type {import('@docusaurus/preset-classic').ThemeConfig['footer']} */
const footer = {
  style: "dark",
  links: [
    {
      title: "Docs",
      items: [
        {
          label: "Tutorial",
          to: "/docs/intro",
        },
      ],
    },
    {
      title: "Community",
      items: [
        {
          label: "Twitter",
          href: "https://twitter.com/docusaurus",
        },
      ],
    },
    {
      title: "More",
      items: [
        {
          label: "Blog",
          to: "/blog",
        },
        {
          label: "About Us",
          to: "/about",
        },
      ],
    },
  ],
  copyright: `Copyright © ${new Date().getFullYear()} My Project, Inc. Built with Docusaurus.`,
};

export default footer;
```

### Langkah 4: Update `docusaurus.config.js`

Sekarang kita panggil kedua file tersebut di konfigurasi utama. Lihat betapa bersihnya file konfigurasi Anda nanti.

Buka `docusaurus.config.js`, tambahkan import di atas, dan ganti bagian `themeConfig`.

```javascript title="docusaurus.config.js"
// @ts-check
import { themes as prismThemes } from "prism-react-renderer";

// IMPORT MODULE BARU
import navbar from "./src/config/navbar";
import footer from "./src/config/footer";

/** @type {import('@docusaurus/types').Config} */
const config = {
  // ... (bagian atas biarkan sama)
  title: "My Modern Docs",
  tagline: "Documentation with Superpowers",
  url: "https://your-docusaurus-site.example.com",
  baseUrl: "/",
  onBrokenLinks: "throw",
  onBrokenMarkdownLinks: "warn",
  i18n: {
    defaultLocale: "id",
    locales: ["id"],
  },
  future: {
    experimental_faster: true,
  },

  presets: [
    // ... (bagian presets biarkan sama)
    [
      "classic",
      {
        docs: { sidebarPath: "./sidebars.js" },
        blog: { showReadingTime: true },
        theme: { customCss: "./src/css/custom.css" },
      },
    ],
  ],

  themeConfig:
    /** @type {import('@docusaurus/preset-classic').ThemeConfig} */
    ({
      image: "img/docusaurus-social-card.jpg",

      // PANGGIL DI SINI:
      navbar: navbar,
      footer: footer,

      prism: {
        theme: prismThemes.github,
        darkTheme: prismThemes.dracula,
      },
    }),
};

export default config;
```

### Langkah 5: Membuat Halaman Statis (Page)

Tadi di navbar kita menambahkan link ke `/about`. Link itu akan rusak (404) kalau halamannya belum ada. Mari kita buat.

Buat file baru: `src/pages/about.js` (Ingat, React component pakai `.js` atau `.jsx`).

```javascript title="src/pages/about.js"
import React from "react";
import Layout from "@theme/Layout";

export default function About() {
  return (
    <Layout
      title="About Us"
      description="Description will go into a meta tag in <head />"
    >
      <main style={{ padding: "2rem", textAlign: "center" }}>
        <h1>Tentang Kami</h1>
        <p>
          Ini adalah contoh halaman statis (Page). Berbeda dengan 'Docs',
          halaman ini tidak punya sidebar bawaan.
        </p>
        <p>Dibuat dengan React Component standar.</p>
      </main>
    </Layout>
  );
}
```

---

### Verifikasi Sesi 2

1.  Jalankan `npm start`. (Karena kita pakai Faster, restart server seharusnya sangat cepat).
2.  Cek Navbar: Apakah menu **About** sudah muncul?
3.  Klik menu **About**: Apakah masuk ke halaman yang baru kita buat?
4.  Klik menu **Tutorial**: Apakah masuk ke `intro` yang kita buat di Sesi 1?

Jika semua berjalan lancar tanpa error di terminal, berarti Anda sudah berhasil menerapkan **Modular Configuration**.
