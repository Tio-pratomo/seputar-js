---
sidebar_position: 7
---

# Multi-Instansi Dokumentasi (Docs Multi-instance)

Plugin `@docusaurus/plugin-content-docs` dapat mendukung penggunaan multi-instansi. Ini fitur yang menarik. Bahkan situs ini pun, menggunakan fitur Docs Multi-instance dalam pembuatannya.

:::info[**Catatan**]
Fitur ini hanya berguna untuk dokumentasi yang memiliki versi. Disarankan agar Anda memahami terlebih dahulu tentang versioning dokumentasi sebelum membaca halaman ini. Jika Anda hanya ingin beberapa bilah sisi (sidebar), Anda dapat melakukannya dalam satu plugin.
:::

## Kasus Penggunaan

Terkadang Anda ingin sebuah situs Docusaurus menampung dua set dokumentasi yang berbeda (atau lebih). Dokumentasi-dokumentasi ini bahkan mungkin memiliki siklus rilis/versi yang berbeda.

### Dokumentasi SDK Seluler

Jika Anda membangun SDK seluler lintas platform, Anda mungkin memiliki dua dokumentasi:

- Dokumentasi SDK Android (v1.0, v1.1)
- Dokumentasi SDK iOS (v1.0, v2.0)

Dalam kasus ini, Anda dapat menggunakan instansi plugin dokumentasi yang berbeda untuk setiap dokumentasi SDK seluler.

:::warning[**Peringatan**]
Jika setiap instansi dokumentasi sangat besar, sebaiknya Anda membuat dua situs Docusaurus yang terpisah. Jika seseorang mengedit dokumentasi iOS, apakah benar-benar perlu untuk membangun ulang semuanya, termasuk seluruh dokumentasi Android yang tidak berubah?
:::

### Dokumen Berversi dan Tidak Berversi

Terkadang, Anda ingin beberapa dokumen diberi versi, sementara dokumen lain lebih bersifat "global" dan rasanya tidak perlu untuk diberi versi.

Kami menggunakan pola ini di situs web Docusaurus itu sendiri:

- Bagian `/docs/*` diberi versi
- Bagian `/community/*` tidak diberi versi

### Pengaturan

Misalkan Anda memiliki dua dokumentasi:

- **Produk**: beberapa dokumen berversi tentang produk Anda
- **Komunitas**: beberapa dokumen tidak berversi tentang komunitas di sekitar produk Anda

Dalam hal ini, Anda harus menggunakan plugin yang sama dua kali dalam konfigurasi situs Anda.

:::warning[**Peringatan**]
`@docusaurus/preset-classic` sudah menyertakan sebuah instansi plugin dokumentasi untuk Anda!
:::

**Saat menggunakan preset:**

```javascript title="docusaurus.config.js"
// kode lain...

export default {
  presets: [
    [
      "@docusaurus/preset-classic",
      {
        docs: {
          // id: 'product', // dihilangkan => menjadi instansi default
          path: "product",
          routeBasePath: "product",
          sidebarPath: "./sidebarsProduct.js",
          // ... opsi lainnya
        },
      },
    ],
  ],
  plugins: [
    [
      "@docusaurus/plugin-content-docs",
      {
        id: "community",
        path: "community",
        routeBasePath: "community",
        sidebarPath: "./sidebarsCommunity.js",
        // ... opsi lainnya
      },
    ],
  ],
};
```

**Saat tidak menggunakan preset:**

```javascript title="docusaurus.config.js"
// kode lain...

export default {
  plugins: [
    [
      "@docusaurus/plugin-content-docs",
      {
        // id: 'product', // dihilangkan => menjadi instansi default
        path: "product",
        routeBasePath: "product",
        sidebarPath: "./sidebarsProduct.js",
        // ... opsi lainnya
      },
    ],
    [
      "@docusaurus/plugin-content-docs",
      {
        id: "community",
        path: "community",
        routeBasePath: "community",
        sidebarPath: "./sidebarsCommunity.js",
        // ... opsi lainnya
      },
    ],
  ],
};
```

Jangan lupa untuk memberikan atribut `id` yang unik untuk setiap instansi plugin.

:::info[**Catatan**]
Kami menganggap instansi `product` adalah yang paling penting, dan menjadikannya instansi "default" dengan tidak memberikan ID apa pun.
:::

### Jalur Berversi

Setiap instansi plugin akan menyimpan dokumen berversi di folder yang berbeda.

Instansi plugin **default** akan menggunakan jalur berikut:

- `website/versions.json`
- `website/versioned_docs`
- `website/versioned_sidebars`

Instansi plugin **lainnya** (dengan atribut `id`) akan menggunakan jalur berikut:

- `website/[pluginId]_versions.json`
- `website/[pluginId]_versioned_docs`
- `website/[pluginId]_versioned_sidebars`

:::tip[Tips]
Anda dapat menghilangkan atribut `id` (yang secara default akan menjadi `default`) untuk salah satu instansi plugin dokumentasi. Jalur instansi akan menjadi lebih sederhana dan kompatibel dengan pengaturan instansi tunggal.
:::

### Menandai Versi Baru

Setiap instansi plugin akan memiliki perintah CLI sendiri untuk menandai versi baru. Perintah-perintah ini akan ditampilkan jika Anda menjalankan:

```bash
pnpm run docusaurus --help
```

Untuk membuat versi dari instansi plugin dokumentasi **produk/default**:

```bash
pnpm run docusaurus docs:version 1.0.0
```

Untuk membuat versi dari instansi plugin dokumentasi **non-default/komunitas**:

```bash
pnpm run docusaurus docs:version:community 1.0.0
```

### Item Navbar Dokumentasi

Setiap item navbar tema yang terkait dengan dokumentasi dapat menerima atribut opsional `docsPluginId`.

Sebagai contoh, jika Anda ingin memiliki satu menu dropdown versi untuk setiap SDK seluler (iOS dan Android), Anda bisa melakukan seperti ini:

```javascript title="docusaurus.config.js"
// kode lain

export default {
  themeConfig: {
    navbar: {
      items: [
        {
          type: "docsVersionDropdown",
          docsPluginId: "ios",
        },
        {
          type: "docsVersionDropdown",
          docsPluginId: "android",
        },
      ],
    },
  },
};
```
